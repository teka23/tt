<span style="background-color:aliceblue">
**You Are Here**: You are reading the README that explains foundational concepts about models and Explores. It is intended to be viewed alongside the [basic_ecomm.model file](/projects/sample_thelook_ecommerce/files/1_basic_lookml/basic_ecomm.model.lkml).
<br><br>For an overview of the whole sample project, head back to [START_HERE_README](/projects/sample_thelook_ecommerce/files/0_start_here/START_HERE_README.md).
</span>

<h1><span style="color:#2d7eea">Model File Guide</span></h1>

This document explains the basics of a **model file** and will walk you through the [basic_ecomm.model file](/projects/sample_thelook_ecommerce/files/1_basic_lookml/basic_ecomm.model.lkml).
It is a good idea to open this README and the model file (linked above) in separate tabs.

<h2><span style="color:#2d7eea">What Is a Model File?</span></h2>
A **model file** in Looker lets a developer create environments for non-technical users to query the tables in your database. We call these environments **Explores** ... more on that later.

Let's break down the first few lines of the [basic_ecomm.model file](/projects/sample_thelook_ecommerce/files/1_basic_lookml/basic_ecomm.model.lkml) in the following screenshot:

![First half of Model File](https://i.imgur.com/jx9D9Uv.png)

1.  `# For a detailed ...`: In LookML, code to the right of a # is code comments (not functional LookML code). Use comments to provide clarity to others reading the code.
2.  `connection:` [(official doc)](https://cloud.google.com/looker/docs/reference/param-model-connection)
    - Specifies which database we are using (these are configured in [the admin->connections page](/admin/next/connections) ahead of time).
3.  `label:` [(official doc)](https://cloud.google.com/looker/docs/reference/param-model-label)
    - Optional - Used to change how business users see the title of the drop-down menu created by this file.
4.  `include:` [(official doc)](https://cloud.google.com/looker/docs/reference/param-model-include)
    - Specifies the other LookML files you may use in this model file (most commonly view files).
    - Think of this like a dependency.
    - You can see what files are included by hovering your mouse over the ⓘ icon.

The next thing we see in our model file is an Explore object. Let's talk about that!

<h2><span style="color:#2d7eea">What Is an Explore?</span></h2>

- A model file can contain one or multiple Explores.
- Each Explore is an environment that allows a user to choose different combinations of fields and filters to answer data questions without technical details and SQL.
- Each Explore is made up of one or more joined views ([see example view and fuller description](/projects/sample_thelook_ecommerce/files/1_basic_lookml/basic_order_items.view.lkml)), which define a table of source data and its fields.

1.  `explore:` [(official doc)](https://cloud.google.com/looker/docs/reference/param-explore-explore)
    - Creates an Explore enviromment for business users to query from.
    - Our Explore is based on the `order_items` view file, so that table will be in the FROM clause of any query generated by this Explore.
2.  `label:` [(official doc)](https://cloud.google.com/looker/docs/reference/param-explore-label)
    - Optional - Used to change how business users see the title of this Explore in the front end.
3.  `join:`[(official doc)](https://cloud.google.com/looker/docs/reference/param-explore-join)
    - Optional - Establishes a join to a specified view file.
    - Our join is to the `users` view file.
4.  `type:`[(official doc)](https://cloud.google.com/looker/docs/reference/param-explore-join-type)
    - Allows us to specify the type of SQL join we want to do (left, inner, outer, cross).
5.  `relationship:`[(official doc)](https://cloud.google.com/looker/docs/reference/param-explore-join-relationship)
    - Establishes the cardinality of the join (one to one, many to one, one to many, many to many).
    - Looker uses this with advanced distinctness checks to ensure metrics don't become inaccurate during a fanout problem. [More info on that here](https://cloud.google.com/looker/docs/best-practices/understanding-symmetric-aggregates)
    - Expresses the relationship from the Explore’s base view to the joining view.
    - For our example, we know there are many order items to a single user, so the relationship is many to one.
6.  `sql_on:`[(official doc)](https://cloud.google.com/looker/docs/reference/param-explore-join-sql-on)
    - Allows us to etablish the keys (or columns) on which to join the tables.
    - For our example, we join the `order_items.user_id` field to the `users.id` field.
    - We can write raw SQL here if we like, but we can also use subsitution operators using the looker ${} notation. [More on Looker substitution operators](https://cloud.google.com/looker/docs/sql-and-referring-to-lookml#substitution_operator_)

Here's an entity-relational diagram (ERD) of the code defined in the model file.
![basic_ecomm.model LookML Diagram](https://cloud.google.com/looker/docs/images/sample_lookml_basic_erd.png)

---

<h1><span style="color:#2d7eea">What's Next</span></h1>

1.  If you haven’t already, try out the `basic_order_items` **Explore** that we’ve defined above. You can get there from this model file by clicking the ▼ symbol next to the filename in the header of the editor panel. You should also check out the three sample dashboards included in the Shared folder.

2.  Begin to look at the field-level LookML that is used by this Explore, which can be found in the `basic_order_items` and `basic_user` view files within this project.

- You can navigate to the files in the File Browser at left.
- Also, you can jump directly to a definition by holding the Option key (Mac) or Alt key (Windows) when clicking a purple LookML reference. For example: try Option/Alt clicking either of the two field references in the `sql_on` parameter above.
- From the Explore (#1), you can navigate to an individual field’s LookML from the ⓘ icon next to the field in the Explore’s field list.
